@page "/"
@using IAODBV1.Services
@using IAODBV1.Models;
@inject IFlightServices fligtservices;
<h1>Flight in BASE DAD</h1>
@if(flights == null){
    <div class="d-flex justify-content-center">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
}else{
    <div class="table">
        <thead>
            <tr>
                <th scope="col">FlightNo</th>
                <th scope="col">Route</th>
                <th scope="col">Status</th>
                <th scope="col">DGATE</th>
                <th scope="col">AGATE</th>
                <th scope="col">AcType</th>
                <th scope="col">Belt</th>
                <th scope="col">Schedule Depatuture SOBT</th>
                <th scope="col">Schedule Arrival SIBT</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var flight in flights){
                <tr>
                    <th scope="row">@flight.FlightNo</th>
                    <td>@flight.Route</td>
                    <td>@flight.Status</td>
                    <td>@flight.DGATE</td>
                    <td>@flight.AGATE</td>
                    <td>@flight.AcType</td>
                    <td>@flight.Belt</td>
                    <td>@flight.SOBT</td>
                    <td>@flight.SIBT</td>
                </tr>
            }
            
        </tbody>
    </div>
}

@code{
    private List<FlightModel> flights;
    protected override async Task OnInitializedAsync()
    {
        flights = await fligtservices.GetAllFlight();
       
    }
}
